"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();!function(){var e=/[^ =;]+(?=\=)/g,t=function(){function t(e){_classCallCheck(this,t),this.storeType="storage","cookie"===e?this.storeType="cookie":this.$store="local"===e?this.getLocalStorage():this.getSessionStorage()}return _createClass(t,[{key:"getData",value:function(e){for(var t=[],o=0,n=e.length;o<n;o++)t.push(this.getItem(e[o]));return t}},{key:"getItem",value:function(e){var t=this.$store;if("cookie"!==this.storeType)return t.getItem(e)||"";var o=encodeURIComponent(e)+"=",n=document.cookie.indexOf(e),r="",i=void 0;return-1!==n&&(-1===(i=document.cookie.indexOf(";",n))&&(i=document.cookie.length),r=decodeURIComponent(document.cookie.substring(n+o.length,i))),r}},{key:"setData",value:function(e,t){for(var o in e)e.hasOwnProperty(o)&&this.setItem(o,e[o],t)}},{key:"setItem",value:function(e,t,o){if("cookie"!==this.storeType)return this.$store.setItem(e,t);var n=encodeURIComponent(e)+"="+encodeURIComponent(t);o&&(o.expires&&o.expires instanceof Date&&(n+="; expires="+o.expires.toGMTString()),o.path&&(n+="; path="+o.path),o.domain&&(n+="; domain="+o.domain),o.secure&&(n+="; secure")),document.cookie=n}},{key:"removeItem",value:function(e){if("cookie"!==this.storeType)return this.$store.removeItem(e);this.setItem(e,"",new Date(0))}},{key:"getAllItem",value:function(){var t=this.$store,o=[];if("cookie"!==this.storeType){for(var n in t)t.hasOwnProperty(n)&&o.push({key:n,value:t.getItem(n)});return o}for(var r=document.cookie.match(e),i=0,a=r.length;i<a;i++)this.getItem(r[i])&&o.push({key:r[i],value:this.getItem(r[i])});return o}},{key:"clearAll",value:function(){if("cookie"!==this.storeType)return this.$store.clear();for(var t=document.cookie.match(e),o=0,n=t.length;o<n;o++)this.removeItem(t[o])}},{key:"getSessionStorage",value:function(){if("object"===("undefined"==typeof sessionStorage?"undefined":_typeof(sessionStorage)))return sessionStorage;throw new Error("Session storage not available.")}},{key:"getLocalStorage",value:function(){if("object"===("undefined"==typeof localStorage?"undefined":_typeof(localStorage)))return localStorage;if("object"===("undefined"==typeof globalStorage?"undefined":_typeof(globalStorage)))return globalStorage[location.host];throw new Error("Local storage not available.")}}]),t}();"undefined"!=typeof module&&"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t:window.Store=t}();